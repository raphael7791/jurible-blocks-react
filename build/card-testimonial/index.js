(()=>{"use strict";var a,e={614:()=>{const a=window.wp.blocks,e=window.wp.blockEditor,t=window.wp.components,i=window.ReactJSXRuntime,r=JSON.parse('{"UU":"jurible/card-testimonial"}');(0,a.registerBlockType)(r.UU,{edit:function({attributes:a,setAttributes:r}){const{variant:l,rating:s,quote:n,showBadge:o,badgeText:c,avatarType:d,avatarUrl:h,avatarId:m,avatarInitials:u,authorName:v,authorSubtitle:x}=a,p=(0,e.useBlockProps)({className:`card-testimonial card-testimonial--${l}`}),_=()=>{r({avatarUrl:"",avatarId:0})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.InspectorControls,{children:[(0,i.jsx)(t.PanelBody,{title:"Variante",initialOpen:!0,children:(0,i.jsx)(t.SelectControl,{label:"Type de carte",value:l,options:[{label:"Standard (360px)",value:"standard"},{label:"Hero (480px)",value:"hero"}],onChange:a=>r({variant:a})})}),(0,i.jsx)(t.PanelBody,{title:"Note",initialOpen:!1,children:(0,i.jsx)(t.RangeControl,{label:"Étoiles",value:s,onChange:a=>r({rating:a}),min:1,max:5})}),(0,i.jsxs)(t.PanelBody,{title:"Badge résultat",initialOpen:!1,children:[(0,i.jsx)(t.ToggleControl,{label:"Afficher le badge",checked:o,onChange:a=>r({showBadge:a})}),o&&(0,i.jsx)(t.TextControl,{label:"Texte du badge",value:c,onChange:a=>r({badgeText:a})})]}),(0,i.jsxs)(t.PanelBody,{title:"Avatar",initialOpen:!1,children:[(0,i.jsx)(t.SelectControl,{label:"Type d'avatar",value:d,options:[{label:"Initiales",value:"initials"},{label:"Photo",value:"photo"}],onChange:a=>r({avatarType:a})}),"initials"===d&&(0,i.jsx)(t.TextControl,{label:"Initiales",value:u,onChange:a=>r({avatarInitials:a.toUpperCase().slice(0,2)}),maxLength:2,help:"2 caractères maximum"}),"photo"===d&&(0,i.jsx)(e.MediaUploadCheck,{children:(0,i.jsx)(e.MediaUpload,{onSelect:a=>{r({avatarUrl:a.url,avatarId:a.id})},allowedTypes:["image"],value:m,render:({open:a})=>(0,i.jsx)("div",{style:{marginBottom:"16px"},children:h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:h,alt:"",style:{width:"64px",height:"64px",borderRadius:"50%",objectFit:"cover",marginBottom:"8px"}}),(0,i.jsxs)("div",{children:[(0,i.jsx)(t.Button,{variant:"secondary",onClick:a,style:{marginRight:"8px"},children:"Changer"}),(0,i.jsx)(t.Button,{variant:"link",isDestructive:!0,onClick:_,children:"Supprimer"})]})]}):(0,i.jsx)(t.Button,{variant:"secondary",onClick:a,children:"Choisir une photo"})})})})]}),(0,i.jsxs)(t.PanelBody,{title:"Auteur",initialOpen:!1,children:[(0,i.jsx)(t.TextControl,{label:"Nom",value:v,onChange:a=>r({authorName:a})}),(0,i.jsx)(t.TextControl,{label:"Sous-titre",value:x,onChange:a=>r({authorSubtitle:a}),help:"Ex: L1 Droit — Paris 1"})]})]}),(0,i.jsxs)("div",{...p,children:[(0,i.jsx)("div",{className:"card-testimonial__stars",children:(()=>{const a=[];for(let e=0;e<5;e++)a.push((0,i.jsx)("span",{className:"card-testimonial__star "+(e<s?"card-testimonial__star--filled":""),children:"★"},e));return a})()}),(0,i.jsx)(e.RichText,{tagName:"p",className:"card-testimonial__quote",value:n,onChange:a=>r({quote:a}),placeholder:"Citation du témoignage..."}),o&&(0,i.jsxs)("div",{className:"card-testimonial__badge",children:["✓ ",c]}),(0,i.jsxs)("div",{className:"card-testimonial__author",children:["photo"===d&&h?(0,i.jsx)("div",{className:"card-testimonial__avatar card-testimonial__avatar--photo "+("hero"===l?"card-testimonial__avatar--lg":""),style:{backgroundImage:`url(${h})`}}):(0,i.jsx)("div",{className:"card-testimonial__avatar card-testimonial__avatar--initials "+("hero"===l?"card-testimonial__avatar--lg":""),children:u}),(0,i.jsxs)("div",{className:"card-testimonial__author-info",children:[(0,i.jsx)("h4",{className:"card-testimonial__author-name",children:v}),(0,i.jsx)("p",{className:"card-testimonial__author-subtitle",children:x})]})]})]})]})},save:function({attributes:a}){const{variant:t,rating:r,quote:l,showBadge:s,badgeText:n,avatarType:o,avatarUrl:c,avatarInitials:d,authorName:h,authorSubtitle:m}=a,u=e.useBlockProps.save({className:`card-testimonial card-testimonial--${t}`});return(0,i.jsxs)("div",{...u,children:[(0,i.jsx)("div",{className:"card-testimonial__stars",children:(()=>{const a=[];for(let e=0;e<5;e++)a.push((0,i.jsx)("span",{className:"card-testimonial__star "+(e<r?"card-testimonial__star--filled":""),children:"★"},e));return a})()}),(0,i.jsx)(e.RichText.Content,{tagName:"p",className:"card-testimonial__quote",value:l}),s&&(0,i.jsxs)("div",{className:"card-testimonial__badge",children:["✓ ",n]}),(0,i.jsxs)("div",{className:"card-testimonial__author",children:["photo"===o&&c?(0,i.jsx)("div",{className:"card-testimonial__avatar card-testimonial__avatar--photo "+("hero"===t?"card-testimonial__avatar--lg":""),style:{backgroundImage:`url(${c})`}}):(0,i.jsx)("div",{className:"card-testimonial__avatar card-testimonial__avatar--initials "+("hero"===t?"card-testimonial__avatar--lg":""),children:d}),(0,i.jsxs)("div",{className:"card-testimonial__author-info",children:[(0,i.jsx)("h4",{className:"card-testimonial__author-name",children:h}),(0,i.jsx)("p",{className:"card-testimonial__author-subtitle",children:m})]})]})]})}})}},t={};function i(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,i),l.exports}i.m=e,a=[],i.O=(e,t,r,l)=>{if(!t){var s=1/0;for(d=0;d<a.length;d++){for(var[t,r,l]=a[d],n=!0,o=0;o<t.length;o++)(!1&l||s>=l)&&Object.keys(i.O).every(a=>i.O[a](t[o]))?t.splice(o--,1):(n=!1,l<s&&(s=l));if(n){a.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=a.length;d>0&&a[d-1][2]>l;d--)a[d]=a[d-1];a[d]=[t,r,l]},i.o=(a,e)=>Object.prototype.hasOwnProperty.call(a,e),(()=>{var a={750:0,914:0};i.O.j=e=>0===a[e];var e=(e,t)=>{var r,l,[s,n,o]=t,c=0;if(s.some(e=>0!==a[e])){for(r in n)i.o(n,r)&&(i.m[r]=n[r]);if(o)var d=o(i)}for(e&&e(t);c<s.length;c++)l=s[c],i.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return i.O(d)},t=globalThis.webpackChunkjurible_blocks_react=globalThis.webpackChunkjurible_blocks_react||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})();var r=i.O(void 0,[914],()=>i(614));r=i.O(r)})();