(()=>{"use strict";var e,n={366:()=>{const e=window.wp.blocks,n=window.wp.blockEditor,t=window.wp.data,i=window.wp.element,r=window.ReactJSXRuntime;function s({attributes:e,setAttributes:s}){const{headings:o}=e,a=(0,n.useBlockProps)({className:"jurible-sommaire"}),l=(0,t.useSelect)(e=>e(n.store).getBlocks(),[]);return(0,i.useEffect)(()=>{if(!l||0===l.length)return;const e=[],n=t=>{t.forEach(t=>{if("core/heading"===t.name&&2===t.attributes?.level){const n="string"==typeof t.attributes.content?t.attributes.content:t.attributes.content?.text||"";if(n.length>0){const t=n.replace(/<[^>]*>/g,""),i=t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");e.push({content:t,slug:i})}}t.innerBlocks&&t.innerBlocks.length>0&&n(t.innerBlocks)})};n(l),JSON.stringify(e)!==JSON.stringify(o)&&s({headings:e})},[l]),(0,r.jsxs)("div",{...a,children:[(0,r.jsxs)("div",{className:"jurible-sommaire-header",children:[(0,r.jsx)("span",{className:"jurible-sommaire-icon",children:"ðŸ“‘"}),(0,r.jsx)("span",{className:"jurible-sommaire-title",children:"Sommaire"})]}),o.length>0?(0,r.jsx)("ul",{className:"jurible-sommaire-list",children:o.map((e,n)=>(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:`#${e.slug}`,children:e.content})},n))}):(0,r.jsx)("p",{className:"jurible-sommaire-info",children:"Le sommaire sera gÃ©nÃ©rÃ© automatiquement Ã  partir des titres H2."})]})}function o({attributes:e}){const{headings:t}=e,i=n.useBlockProps.save({className:"jurible-sommaire"});return 0===t.length?null:(0,r.jsxs)("div",{...i,children:[(0,r.jsxs)("div",{className:"jurible-sommaire-header",children:[(0,r.jsx)("span",{className:"jurible-sommaire-icon",children:"ðŸ“‘"}),(0,r.jsx)("span",{className:"jurible-sommaire-title",children:"Sommaire"})]}),(0,r.jsx)("ul",{className:"jurible-sommaire-list",children:t.map((e,n)=>(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:`#${e.slug}`,children:e.content})},n))})]})}const a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"jurible/sommaire","version":"1.0.0","title":"Sommaire","category":"text","icon":"list-view","description":"GÃ©nÃ¨re automatiquement un sommaire Ã  partir des titres H2.","keywords":["sommaire","table","contents","toc"],"attributes":{"headings":{"type":"array","default":[]}},"supports":{"html":false},"textdomain":"jurible-blocks-react","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),l="\n.jurible-sommaire {\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n    background: #F9FAFB;\n    border: 1px solid #E5E7EB;\n    border-radius: 12px;\n    margin-bottom: 24px;\n    padding-top: clamp(20px, 4vw, 24px);\n    padding-right: clamp(20px, 4vw, 24px);\n    padding-bottom: clamp(12px, 3vw, 16px);\n    padding-left: clamp(20px, 4vw, 24px);\n}\n.jurible-sommaire-header {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 0;\n    gap: 8px;\n}\n.jurible-sommaire-icon {\n    font-size: 16px;\n}\n.jurible-sommaire-title {\n    font-family: 'Poppins', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    color: #1B1B1B;\n}\n.jurible-sommaire-list {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    padding: 0 !important;\n    margin: 0 !important;\n    gap: 0;\n    list-style: none !important;\n    width: 100%;\n}\n.jurible-sommaire-list li {\n    display: flex !important;\n    align-items: center !important;\n    width: 100% !important;\n    padding: 0 !important;\n    margin: 0 !important;\n}\n.jurible-sommaire-list li + li {\n    border-top: 1px solid #E5E7EB !important;\n    margin-top: 9px !important;\n    padding-top: 9px !important;\n}\n.jurible-sommaire-list a {\n    color: #4A4A4A !important;\n    text-decoration: none !important;\n    font-family: 'Poppins', sans-serif !important;\n    font-size: 14px !important;\n    margin-bottom: 0 !important;\n}\n.jurible-sommaire-list a:hover {\n    color: #B0001D !important;\n}\n.jurible-sommaire-info {\n    color: #9CA3AF;\n    font-size: 13px;\n    margin: 0;\n}\n";function m(){if(!document.getElementById("jurible-sommaire-styles")){const e=document.createElement("style");e.id="jurible-sommaire-styles",e.textContent=l,document.head.appendChild(e)}document.querySelectorAll('iframe[name="editor-canvas"]').forEach(e=>{try{const n=e.contentDocument||e.contentWindow.document;if(n&&!n.getElementById("jurible-sommaire-styles")){const e=n.createElement("style");e.id="jurible-sommaire-styles",e.textContent=l,n.head.appendChild(e)}}catch(e){console.log("Cannot access iframe:",e)}})}!function n(){"undefined"!=typeof wp&&wp.blocks&&wp.blocks.registerBlockType?(m(),setTimeout(m,1e3),setTimeout(m,3e3),(0,e.registerBlockType)(a.name,{...a,edit:s,save:o}),console.log("JURIBLE SOMMAIRE REGISTERED!")):setTimeout(n,50)}()}},t={};function i(e){var r=t[e];if(void 0!==r)return r.exports;var s=t[e]={exports:{}};return n[e](s,s.exports,i),s.exports}i.m=n,e=[],i.O=(n,t,r,s)=>{if(!t){var o=1/0;for(c=0;c<e.length;c++){for(var[t,r,s]=e[c],a=!0,l=0;l<t.length;l++)(!1&s||o>=s)&&Object.keys(i.O).every(e=>i.O[e](t[l]))?t.splice(l--,1):(a=!1,s<o&&(o=s));if(a){e.splice(c--,1);var m=r();void 0!==m&&(n=m)}}return n}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[t,r,s]},i.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={183:0,247:0};i.O.j=n=>0===e[n];var n=(n,t)=>{var r,s,[o,a,l]=t,m=0;if(o.some(n=>0!==e[n])){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(l)var c=l(i)}for(n&&n(t);m<o.length;m++)s=o[m],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(c)},t=globalThis.webpackChunkjurible_blocks_react=globalThis.webpackChunkjurible_blocks_react||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var r=i.O(void 0,[247],()=>i(366));r=i.O(r)})();