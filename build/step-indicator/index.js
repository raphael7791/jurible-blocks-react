(()=>{"use strict";var e,s={504:()=>{const e=window.wp.blocks,s=window.wp.blockEditor,l=window.wp.components,t=window.ReactJSXRuntime,r=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"jurible/step-indicator","version":"1.0.0","title":"Step Indicator","category":"widgets","icon":"editor-ol","description":"Indicateur d\'étapes pour les parcours.","keywords":["step","etape","progress","indicator","stepper"],"attributes":{"totalSteps":{"type":"number","default":5},"currentStep":{"type":"number","default":1},"showLabels":{"type":"boolean","default":false},"labels":{"type":"array","default":[]}},"supports":{"html":false,"align":["wide","full"]},"textdomain":"jurible-blocks-react","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,e.registerBlockType)(r.name,{...r,edit:function({attributes:e,setAttributes:r}){const{totalSteps:i,currentStep:a,showLabels:n,labels:c}=e,o=(0,s.useBlockProps)({className:"jurible-steps"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.InspectorControls,{children:[(0,t.jsxs)(l.PanelBody,{title:"Configuration",children:[(0,t.jsx)(l.RangeControl,{label:"Nombre d'étapes",value:i,onChange:e=>{const s=[...c];for(;s.length<e;)s.push(`Étape ${s.length+1}`);r({totalSteps:e,labels:s.slice(0,e),currentStep:Math.min(a,e)})},min:2,max:10}),(0,t.jsx)(l.RangeControl,{label:"Étape active",value:a,onChange:e=>r({currentStep:e}),min:1,max:i}),(0,t.jsx)(l.ToggleControl,{label:"Afficher les labels",checked:n,onChange:e=>r({showLabels:e})})]}),n&&(0,t.jsx)(l.PanelBody,{title:"Labels",initialOpen:!1,children:Array.from({length:i},(e,s)=>(0,t.jsx)(l.TextControl,{label:`Étape ${s+1}`,value:c[s]||`Étape ${s+1}`,onChange:e=>((e,s)=>{const l=[...c];for(;l.length<=e;)l.push(`Étape ${l.length+1}`);l[e]=s,r({labels:l})})(s,e)},s))})]}),(0,t.jsx)("div",{...o,children:(()=>{const e=[];for(let s=1;s<=i;s++){const l=s<a;let r="jurible-step";l&&(r+=" jurible-step--completed"),s===a&&(r+=" jurible-step--active"),n&&(r+=" jurible-step--with-label"),e.push((0,t.jsx)("div",{className:r,children:n?(0,t.jsxs)(t.Fragment,{children:[s>1&&(0,t.jsx)("div",{className:"jurible-step__line"}),(0,t.jsxs)("div",{className:"jurible-step__circle-wrapper",children:[(0,t.jsx)("div",{className:"jurible-step__circle",children:l?"✓":s}),c[s-1]&&(0,t.jsx)("span",{className:"jurible-step__label",children:c[s-1]})]})]}):(0,t.jsxs)(t.Fragment,{children:[s>1&&(0,t.jsx)("div",{className:"jurible-step__line"}),(0,t.jsx)("div",{className:"jurible-step__circle",children:l?"✓":s})]})},s))}return e})()})]})},save:function({attributes:e}){const{totalSteps:l,currentStep:r,showLabels:i,labels:a}=e,n=s.useBlockProps.save({className:"jurible-steps"});return(0,t.jsx)("div",{...n,children:(()=>{const e=[];for(let s=1;s<=l;s++){const l=s<r;let n="jurible-step";l&&(n+=" jurible-step--completed"),s===r&&(n+=" jurible-step--active"),i&&(n+=" jurible-step--with-label"),e.push((0,t.jsx)("div",{className:n,children:i?(0,t.jsxs)(t.Fragment,{children:[s>1&&(0,t.jsx)("div",{className:"jurible-step__line"}),(0,t.jsxs)("div",{className:"jurible-step__circle-wrapper",children:[(0,t.jsx)("div",{className:"jurible-step__circle",children:l?"✓":s}),a[s-1]&&(0,t.jsx)("span",{className:"jurible-step__label",children:a[s-1]})]})]}):(0,t.jsxs)(t.Fragment,{children:[s>1&&(0,t.jsx)("div",{className:"jurible-step__line"}),(0,t.jsx)("div",{className:"jurible-step__circle",children:l?"✓":s})]})},s))}return e})()})}})}},l={};function t(e){var r=l[e];if(void 0!==r)return r.exports;var i=l[e]={exports:{}};return s[e](i,i.exports,t),i.exports}t.m=s,e=[],t.O=(s,l,r,i)=>{if(!l){var a=1/0;for(p=0;p<e.length;p++){for(var[l,r,i]=e[p],n=!0,c=0;c<l.length;c++)(!1&i||a>=i)&&Object.keys(t.O).every(e=>t.O[e](l[c]))?l.splice(c--,1):(n=!1,i<a&&(a=i));if(n){e.splice(p--,1);var o=r();void 0!==o&&(s=o)}}return s}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[l,r,i]},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={824:0,80:0};t.O.j=s=>0===e[s];var s=(s,l)=>{var r,i,[a,n,c]=l,o=0;if(a.some(s=>0!==e[s])){for(r in n)t.o(n,r)&&(t.m[r]=n[r]);if(c)var p=c(t)}for(s&&s(l);o<a.length;o++)i=a[o],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(p)},l=globalThis.webpackChunkjurible_blocks_react=globalThis.webpackChunkjurible_blocks_react||[];l.forEach(s.bind(null,0)),l.push=s.bind(null,l.push.bind(l))})();var r=t.O(void 0,[80],()=>t(504));r=t.O(r)})();